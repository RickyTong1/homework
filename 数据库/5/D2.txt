第2章  数据库系统结构

2．1  基本内容
本章的主要概念如下：
(1)三个阶段中的数据描述；数据联系的描述。
(2)数据模型的定义；两类数据模型；结构数据模型的三个组成部分。
(3)DB的三级模式结构、两级映象、两级独立性。
(4)DBMS的工作模式、主要功能、模块组成。
(5)DBS的组成、全局结构；DBS结构的分类。

2. 2  教材中习题2的解答
[习题2．1]名词解释
    ・逻辑数据：指程序员或用户用以操作的数据形式。
    ・物理数据：指存储设备上存储的数据。
    ・联系的元数：与一个联系有关的实体集个数，称为联系的元数。
    ・1：1联系：如果实体集El中每个实体至多和实体集E2中的一个实体有联系，反之亦然，那么El和E2的联系称为“1：l联系”。
    ・1：N联系：如果实体集n中每个实体可以与实体集m中任意个(零个或多个)实体有联系，而殿中每个实体至多和n中―千实体有联系，那么殿和田的联系是“1：N联系”。
    ・M：N联系：如果实体集殿中每个实体可以与实体集E2中任意个(零个或多个)实体有联系，反之亦然，那么E1和E2的联系称为“M：N联系”。
    ・数据模型：能表示实体类型及实体间联系的模型称为“数据模型”。
    ・概念数据模型：独立于计算机系统、完全不涉及信息在计算机中的表示、反映企业组织所关心的信息结构的数据模型。
    ・结构数据模型：与DBMS有关的，直接面向DB的逻辑结构、从计算机观点对数据建模的数据模型。
    ・层次模型：用树型(层次)结构表示实体类型及实体间联系的数据模型称为层次模型。
    ・网状模型：用有向图结构表示实体类型及实体间联系的数据模型称为网状模型。
    ・关系模型：用二维表格表达实体集的数据模型。
    ・外模式：是用户用到的那部分数据的描述。
    ・概念模式：数据库中全部数据的整体逻辑结构的描述。
    ・内模式：DB在物理存储方面的描述。
    ・外模式／模式映象：用于定义外模式和概念模式之间数据结构的对应性。
    ・模式／内模式映象：用于定义概念模式和内模式之间数据结构的对应性。
    ・数据独立性：应用程序和DB的数据结构之间相互独立，不受影响。
    ・物理数据独立性：在DB的物理结构改变时，尽量不影响应用程序。
    ・逻辑数据独立性：在DB的逻辑结构改变时，尽量不影响应用程序。
    ・主语言：编写应用程序的语言(如C语言一类的高级程序设计语言)，称为主语言。
    ・DDL：定义DB三级结构的语言，称为DDL。
    ・DML：对DB进行查询和更新操作的语言，称为DML。
    ・过程性语言：用户编程时，不仅需要指出“做什么”，还需要指出“怎么做”的语言。
    ・非过程性语言：用户编程时，只需指出“做什么”，不需要指出“怎么做”的语言。
    ・DD(数据字典)：存放三级结构定义的DB，称为DD。
    ・DD系统：管理DD的软件系统，称为DD系统。
[习题2. 2]逻辑记录与物理记录、逻辑文件与物理文件有些什么联系和区别?
  答：逻辑数据是用户用以操作的数据形式，是抽象的概念化数据。物理数据是实际存放在存储设备上的数据。逻辑数据与物理数据在结构上可以差别艮大，需通过两级映象来进行数据传输和格式转换。
[习题2. 3]设某商业集团数据库有三个实体集。一是“商品”实体集，属性有商品号、商品名、规格、单价等；二是“商店”实体集，属性有商店号、商店名、地址等；三是“供应商”实体集，属性有供应商编号、供应商名、地址等。
  图  2.1
    供应商与商品之间存在“供应”联系，每个供应商可供应多种商品，每种商品可向多个供应商订购，每个供应商供应每种商品有个月供应量；商店与商品间存在“销售”联系，每个商店可销售多种商品，每种商品可在多个商店销售，每个商店销售每种商品有个月计划数。试画出反映上述问题的ER图，并将其转换成关系模型。
  解：ER图如图2．1所示。
    这个ER图可转换5个关系模式：
    供应商(供应商编号，供应商名，地址)
    商店(商店号，商店名，地址)
    商品(商品号，商品名，规格，单价)
    供应(供应商编号，商品号，月供应量)
    销售(商店号，商品号，月计划数)
[习题2．4]试述ER模型、层次模型、网状模型、关系模型和面向对象模型的主要特点。
  答：ER模型直接表示实体类型及实体间联系，与计算机系统无关，充分反映用户的需求，用户容易理解。
    层次模型的数据结构为树结构，记录之间联系通过指针实现，查询较快，但DML属于过程化的，操作复杂。
    网状模型的数据结构为有向图，记录之间联系通过指针实现，查询较快，并且容易实现M：N联系，但DML属于过程化的语言，编程较复杂。
    关系模型的数据结构为二维表格，容易为初学者理解。记录之间联系通过关键码实现。DML属于非过程化语言，编程较简单。
    面向对象模型能完整描述现实世界的数据结构，具有丰富的表达能力，能表达嵌套、递归的数据结构。但涉及的知识面较广，用户较难理解，这种模型尚未普及。
[习题2．5]数据之间的联系在各种结构数据模型中是怎么实现的?
  答：在层次、网状模型中，数据之间的联系是通过指针实现的；
      在关系模型中，数据之间的联系是通过外键和主键间联系实现的；
      在面向对象模型中，数据之间嵌套、递归联系是通过对象标识符(OLD)实现的(见第13、14章)。
[习题2．6]DB的三级模式结构描述了什么问题?试详细解释。
  答：DB的三级模式结构是对数据的三个抽象级别，分别从外部<用户)级、概念级和内部级去观察数据库。(详细解释略)
[习题2．7]试述概念模式在数据库结构中的重要地位。
  答：数据按外模式的描述提供给用户，按内模式的描述存储在磁盘中，而概念模式提供了连接这两级的相对稳定的中间观点，并使得两级的任何一级的改变都不受另一级的牵制。
[习题2．8]什么是数据独立性?其目的是什么?
  答：数据独立性是指应用程序与DB的数据结构之间相互独立，不受影响。其目的是减少应用程序对数据结构的依赖性，也就是数据结构修改时，尽可能对应用程序的影响减小到最小程度。
[习题2．9]数据独立性与数据联系这两个概念有什么区别?
  答：数据独立性是指应用程序和DB的数据之间相互独立，不受影响，对系统的要求是“数据独立性要高”，而数据联系是指记录之间的联系，对系统的要求是“数据联系密切”。
[习题2．10]试述DBMS的工作模式。  ，
  答：DBMS的工作模式有六点：
    接受应用程序的数据请求和处理请求；
    将用户的数据请求转换成低层指令；
    实现对DB的操作；
    从对DB的操作中接受查询结果；
    对查询结构进行处理；
    将处理结果返回给用户。    ，
[习题2．11)试述DBMS的主要功能。
  答：DB的定义、操纵、保护、维护和数据字典等五个功能。
[习题2．12]试述DBMS对数据库的保护功能。
  答：包括DB的恢复、并发控制、完整性控制和安全性控制等四个方面。
[习题2．13]试述DBMS对数据库的维护功能。
  答：包括DB的数据载入、转换、转储、DB的改组以及性能监控等功能：这些功能分别由各个实用程序完成。
[习题2．14]从模块结构观察，DBMS由哪些部分组成?
  答：DBMS由两大部分组成：查询处理器和存储管理器。(解释略)
[习题2．15]DBS有哪几部分组成?
  答：DBS由DB、硬件、软件和DBA等四个部分组成。(解释略》
[习题2．16]DBS中DD有什么作用?
  答：在DBS中，DD是存储三级结构描述(即元数据)的DB：DBMS的听有工作都要以DD中的元数据为依据，也就是所有工作都要通过DD访问DB；
[习题2．17]什么是DBA?DBA应具有什么素质?DBA的职责是什么?
  答：DBA是控制数据整体结构的一组人员，负责DBS的正常运行．承担创建、监控和维护DB结构的责任。
    DBA必须具备的素质有四条：熟悉企业全部数据的性质和用途；对所有用户的需求有充分的了解；对系统的性能非常熟悉；兼有系统分析员和运筹学专家的品质和知识。
    DBA的主要职责有六点：定义模式；定义内模式：与用户的联络；定义安全性规则；定义完整性规则；DB的转储与恢复。
[习题2．18]试对DBS的全局结构做详细解释：
  答：从四个方面解释：
    ・数据库用户有四类：DBA，专业用户．应用程序员，终端用户。
    ・DBMS的查询处理器有四个模块：DML编译器，嵌入型DML预编译器，DDL编译器，查询运行核心程序。
    ・DBMS的存储管理器有四个模块：授权和完整性管理器，事务管理器，文件管理器，缓冲区管理器。
    ・磁盘存储器中有五种数据结构：数据文件，数据字典，索引文件，统计数据组织和日志。
[习题2．19]使用DBS的用户有哪几类? 
  答：(略，见习题2．18)
[习题2．20]DBMS的查询处理器有哪些功能?
  答：(略，见习题2．18)
[习题2．21)DBSM的存储管理器有哪些功能?
  答：(略，见习题2．18)
[习题2．22]磁盘存储器中有哪五类主要的数据结构?
  答：(略，见习题2．18)

2．3  自测题
一、填空题
  1．对现实世界进行第一层抽象的模型，称为_________模型；对现实世界进行第二层抽象的模型，称为_________模型。
  2．在层次、网状模型中，用__________导航数据；而在关系模型中，用_______导航数据。
  3．数据库的三级模式结构是对_____________的三个抽象级别。
  4．由于DBS采用了三级模式结构，因此系统具有_____________特点。
  5．DBMS的主要目标，是使数据作为一种_________来处理。
  6．DBMS为应用程序运行时开辟的DB系统缓冲区，主要用于_______和______。
  7．DBA有两个很重要的工具：________和_______。
  8．DBS的全局结构体现了其________结构。
二、单项选择题
1．DB中数据导航是指
  A. 数据之间联系    B. 数据之间指针联系  C. 从已知数据找未知数据的过程    D．数据的组合方式
2．DB的三级模式结构中最接近用户的是
  A. 内模式    B．外模式    C．概念模式    D．用户模式
3．用户使用DML语句对数据进行操作，实际上操作的是
  A. 数据库的记录    B．内模式的内部记录  C. 外模式的外部记录    D. 数据库的内部记录值
4．对DB中数据的操作分成两大类：
  A. 查询和更新    B．检索和修改  C. 查询和修改    D．插人和修改
5．要想成功地运转数据库，就要在数据处理部门配备
  A. 部门经理    B. 数据库管理员  C. 应用程序员    D. 系统设计员
三、简答题
1. 试叙述DB的三级模式结构的每一个概念的要点，并指出其联系。
2．DBS中有哪些系统软件?
3．根据计算机的系统结构，DBS分成哪四种?

2．4  自测题答案
一、填空题答案
1．概念    结构    2．指针    关键码(或外键与主键)
3．数据    4．数据独立性
5．可管理的资源    6．数据传输    格式转换
7．一系列实用程序    DD系统    8．模块功能
二、单项选择题答案
1．C  2．B  3．C  4．A  5. B
三、简答题答案
1．答：DB的三级模式结构描述了数据库的数据结构。数据结构分成三个级别。由于三级结构之间有差异，因此存在着两级映象。这五个概念描述了如下的内容：
  ・外模式：描述用户的逻辑结构。
  ・外模式／模式映象：描述外模式和概念模式间数据结构的对应性。
  ・概念模式(简称为“模式”)：描述DB的整体逻辑结构。
  ・模式／内模式映象：描述概念模式和内模式间数据结构的对应性。
  ・内模式：描述DB的物理结构。
  与三级结构吻合，我们可以用图2．2表示各个层次中记录的联系。这里应注意，外模式中的外部记录类型应与应用程序在系统缓冲区中的记录类型是一致的。内模式中的内部记录类型应与磁盘上的物理文件的记录类型是一致的。
图  2．2
2．答：DBS应包括DBMS、OS、宿主语言和应用开发支撑软件等四部分系统软件。
   DBMS是管理DB的软件系统，但对硬盘的管理是由OS实现的，因此DBS中应包括DBMS和OS这两个主要的系统软件。编写应用程序仍然是用C语言一类的高级程序设计语言，这些语言在DBS中称为宿主语言。为提高应用程序开发效率，需要像Delphi、PowerBuilder一类软件开发工具(即应用开发支撑软件)开发应用程序。这些软件属于4GI。范畴，可使应用系统开发生产率提高20～100倍。
3．答：DBS分成四种：集中式，C／S式，并行式，分布式。
